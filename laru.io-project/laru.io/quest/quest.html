<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Social Farming Site</title>
  <style>
    /* Add your CSS styles here */
    body {
      font-family: Arial, sans-serif;
      background-image: url(backroundmoder.png);
      background-repeat: no-repeat;
      background-size: cover;
      background-blend-mode: inherit;
      margin: 0;
      padding: 0;
      display: flex;
      justify-content: center;
      align-items: flex-start;
      min-height: 100vh;
      gap: 20px;
      padding-top: 40px;
      flex-wrap: wrap;
    }

    .container, .sidebar {
      background-color: antiquewhite;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    }

    .container {
      max-width: 800px;
      margin: 20px;
      text-align: center;
    }

    .sidebar {
      display: flex;
      flex-direction: column;
      gap: 20px;
      max-width: 300px;
      margin-top: 20px;
      position: -webkit-sticky; /* For Safari */
      position: sticky;
      top: 20px;
    }

    .user-info {
      text-align: left;
      background-color: #fff;
      padding: 10px;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    }

    .page-header {
      margin-bottom: 20px;
    }

    .page-header h1 {
      margin: 0;
      font-size: 2em;
    }

    .page-header p {
      margin: 5px 0 0;
      font-size: 1.2em;
      color: #666;
    }

    .overall-points {
      margin-bottom: 20px;
      font-size: 1.5em;
      color: #333;
      font-weight: bold;
    }

    .quest-card {
      border: 1px solid #ddd;
      border-radius: 8px;
      overflow: hidden;
      margin-bottom: 16px;
      background-color: #fff;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
      display: flex;
      padding: 16px;
      position: relative;
    }

    .quest-card img {
      width: 200px;
      height: 200px;
      object-fit: cover;
      border-radius: 8px;
      margin-right: 16px;
    }

    .quest-card .content {
      flex: 1;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
    }

    .quest-card .text-content {
      text-align: left;
    }

    .quest-card h3 {
      margin: 0 0 8px;
      font-size: 1.2em;
    }

    .quest-card p {
      margin: 0 0 8px;
      font-size: 1em;
      color: #666;
    }

    .quest-card .actions {
      display: flex;
      justify-content: flex-end;
      margin-top: 16px;
    }

    .quest-card .actions button {
      background-color: #3182ce;
      color: #fff;
      padding: 8px 16px;
      border: none;
      cursor: pointer;
      border-radius: 4px;
      transition: background-color 0.3s;
    }

    .quest-card .actions button:hover {
      background-color: #2c5282;
    }

    .points {
      position: absolute;
      top: 16px;
      right: 16px;
      background-color: #3182ce;
      color: #fff;
      padding: 8px;
      border-radius: 50%;
      font-size: 1em;
    }

    .ads-container {
      padding-top: 20px;
      padding-bottom: 20px;
      background-color: #fff;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    }

    .ad-card {
      border: 1px solid #ddd;
      border-radius: 8px;
      overflow: hidden;
      margin-bottom: 16px;
      background-color: #fff;
      padding: 16px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    }

    .ad-card h3 {
      margin: 0 0 8px;
      font-size: 1.2em;
    }

    .ad-card p {
      margin: 0 0 8px;
      font-size: 1em;
      color: #666;
    }

    .ad-card .actions {
      display: flex;
      justify-content: flex-end;
      margin-top: 16px;
    }

    .ad-card .actions button {
      background-color: #3182ce;
      color: #fff;
      padding: 8px 16px;
      border: none;
      cursor: pointer;
      border-radius: 4px;
      transition: background-color 0.3s;
    }

    .ad-card .actions button:hover {
      background-color: #2c5282;
    }

    .leaderboard-container {
      padding-top: 20px;
      background-color: #fff;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    }

    .leaderboard-table {
      width: 100%;
      border-collapse: collapse;
    }

    .leaderboard-table th, .leaderboard-table td {
      border: 1px solid #ddd;
      padding: 8px;
      text-align: left;
    }

    .leaderboard-table th {
      background-color: #3182ce;
      color: #fff;
    }

    .home-button {
      display: block;
      width: 100%;
      padding: 10px 0;
      background-color: #3182ce;
      color: #fff;
      text-align: center;
      border-radius: 4px;
      margin-bottom: 20px;
      text-decoration: none;
      font-size: 1em;
    }

    .home-button:hover {
      background-color: #2c5282;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="page-header">
      <h1>Quest Page Title</h1>
      <p>.</p>
    </div>
    <div class="overall-points">
      Total Points: <span id="totalPoints">0</span>
    </div>
    <div class="quests-container"></div>
  </div>

  <div class="sidebar">
    <a href="index.html" class="home-button" onclick="goHome(index.html)">Home</a>
    <div class="user-info">
      <h3>User Info</h3>
      <p><strong>Account Name:</strong> user_account</p>
      <p><strong>Overall Quest Points:</strong> <span id="overallQuestPoints">0</span></p>
    </div>

    <div class="ads-container">
      <div class="ad-card">
        <h3>Watch Ad to Earn Points</h3>
        <p>Watch this ad to earn points for your account.</p>
        <div class="actions">
          <button onclick="watchAd()">Watch Ad</button>
        </div>
      </div>
    </div>

    <div class="leaderboard-container">
      <h3>Leaderboard</h3>
      <table class="leaderboard-table">
        <thead>
          <tr>
            <th>Rank</th>
            <th>Username</th>
            <th>Points</th>
          </tr>
        </thead>
        <tbody id="leaderboardBody">
          <!-- Leaderboard data will be inserted here -->
        </tbody>
      </table>
    </div>
  </div>

  <script>
    let totalPoints = 0;
    let completedQuests = 0;

    const userAccount = 'user_account'; // Replace with dynamic user account name
    const users = [{ username: userAccount, points: 0 }];

    const quests = [
      {
        imageSrc: 'quest/twitacc.png',
        title: 'Daily Quest: Support a Like!',
        description: 'Follow laru.io official account!',
        points: 10,
        buttonText: 'Start Quest',
        url: 'https://example.com'
      },
      {
        imageSrc: 'quest/beans_token.webp',
        title: 'Quest 2: Support a Like!',
        description: 'Give support and share this post!',
        points: 10,
        buttonText: 'Start Quest',
        url: 'https://example.com'
      },
      {
        imageSrc: 'https://via.placeholder.com/600x150',
        title: 'Quest 3: Support a Like!',
        description: 'Like and share this quest to earn points. Support a like!',
        points: 0,
        buttonText: 'Start Quest',
        url: 'https://example.com'
      },
      {
        imageSrc: 'https://via.placeholder.com/600x150',
        title: 'Quest 4: Support a Like!',
        description: 'Like and share this quest to earn points. Support a like!',
        points: 0,
        buttonText: 'Start Quest',
        url: 'https://example.com'
      },
      {
        imageSrc: 'https://via.placeholder.com/600x150',
        title: 'Quest 5: Support a Like!',
        description: 'Like and share this quest to earn points. Support a like!',
        points: 0,
        buttonText: 'Start Quest',
        url: 'https://example.com'
      }
    ];

    function createQuestCards() {
      const questsContainer = document.querySelector('.quests-container');
      questsContainer.innerHTML = '';

      quests.forEach((quest, index) => {
        const questCard = `
          <div class="quest-card">
            <img src="${quest.imageSrc}" alt="Quest Image">
            <div class="content">
              <div class="text-content">
                <h3>${quest.title}</h3>
                <p>${quest.description}</p>
              </div>
              <div class="actions">
                <button id="questButton${index}" onclick="startQuest(${index})">${quest.buttonText}</button>
              </div>
              <div class="points">${quest.points}</div>
            </div>
          </div>
        `;
        questsContainer.innerHTML += questCard;
      });
    }

    function startQuest(index) {
      window.open(quests[index].url, '_blank'); // Open the provided URL in a new tab

      setTimeout(() => {
        const pointsElement = document.querySelectorAll('.quest-card .points')[index];
        let points = parseInt(pointsElement.textContent);
        points += 30; // Increment points for starting the quest
        pointsElement.textContent = points;
        totalPoints += 30; // Update overall points
        document.getElementById('totalPoints').textContent = totalPoints;
        document.getElementById('overallQuestPoints').textContent = totalPoints;
        alert('You started the quest! +30 points');

        // Disable the button and change text to "claimed"
        const questButton = document.getElementById(`questButton${index}`);
        questButton.disabled = true;
        questButton.innerHTML = 'Claimed';

        completedQuests += 1;
        if (completedQuests === quests.length) {
          totalPoints += 15; // Bonus points for completing all quests
          document.getElementById('totalPoints').textContent = totalPoints;
          document.getElementById('overallQuestPoints').textContent = totalPoints;
          alert('Congratulations! You completed all quests. +15 bonus points');
        }

        updateLeaderboard();
      }, 80000); // 80000 milliseconds = 80 seconds
    }

    function watchAd() {
      alert('Ad is playing...');

      setTimeout(() => {
        totalPoints += 50; // Add points for watching the ad
        document.getElementById('totalPoints').textContent = totalPoints;
        document.getElementById('overallQuestPoints').textContent = totalPoints;
        alert('You earned 50 points for watching the ad!');

        if (confirm('Do you want to watch another ad and earn more points?')) {
          watchAd(); // Continue watching ads
        } else {
          alert('You have stopped watching ads. Points collected.');
        }

        updateLeaderboard();
      }, 30000); // 30000 milliseconds = 30 seconds
    }

    function updateLeaderboard() {
      const userIndex = users.findIndex(user => user.username === userAccount);
      if (userIndex >= 0) {
        users[userIndex].points = totalPoints;
      } else {
        users.push({ username: userAccount, points: totalPoints });
      }

      // Sort users by points in descending order
      users.sort((a, b) => b.points - a.points);

      const leaderboardBody = document.getElementById('leaderboardBody');
      leaderboardBody.innerHTML = '';

      users.forEach((user, index) => {
        const row = `
          <tr>
            <td>${index + 1}</td>
            <td>${user.username}</td>
            <td>${user.points}</td>
          </tr>
        `;
        leaderboardBody.innerHTML += row;
      });
    }

    function goHome() {
      window.location.href = 'index.html'; // Replace with your home page URL
    }

    // Call the function to create quest cards
    createQuestCards();
    updateLeaderboard();
  </script>
</body>
</html>
